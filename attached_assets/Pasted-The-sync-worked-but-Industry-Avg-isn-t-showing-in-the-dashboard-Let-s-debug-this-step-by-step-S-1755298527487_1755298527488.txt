The sync worked but Industry_Avg isn’t showing in the dashboard. Let’s debug this step by step.

**Step 7: Debug Why Industry_Avg Isn’t Showing in Dashboard**

First, let’s check if the Industry_Avg metrics were actually created. Add this debug endpoint to verify:

```typescript
// Add this temporary debug endpoint in /server/routes.ts
app.get('/api/debug/check-industry-avg', requireAuth, async (req, res) => {
  try {
    // Check if Industry_Avg metrics exist
    const industryAvgMetrics = await storage.getMetricsBySourceType('Industry_Avg');
    
    // Group by time period to see what periods have data
    const periodCounts = {};
    industryAvgMetrics.forEach(metric => {
      if (!periodCounts[metric.timePeriod]) {
        periodCounts[metric.timePeriod] = {};
      }
      if (!periodCounts[metric.timePeriod][metric.metricName]) {
        periodCounts[metric.timePeriod][metric.metricName] = 0;
      }
      periodCounts[metric.timePeriod][metric.metricName]++;
    });
    
    // Check if Benchmark source metrics exist
    const benchmarkMetrics = await storage.getMetricsBySourceType('Benchmark');
    
    res.json({
      industryAvgCount: industryAvgMetrics.length,
      benchmarkSourceCount: benchmarkMetrics.length,
      periodBreakdown: periodCounts,
      sampleIndustryAvg: industryAvgMetrics.slice(0, 5),
      sampleBenchmark: benchmarkMetrics.slice(0, 5),
      currentPeriod: 'Last Month', // or whatever period the dashboard is using
      hasIndustryAvgForLastMonth: industryAvgMetrics.some(m => m.timePeriod === 'Last Month')
    });
    
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});
```

Call this endpoint to see:

1. If Industry_Avg metrics were created
1. What time periods they’re for
1. If they match the period your dashboard is requesting

Then check the dashboard route in `/server/routes.ts` to make sure it’s including Industry_Avg metrics. Look for where it fetches metrics and ensure it includes Industry_Avg:

```typescript
// In the dashboard route, make sure Industry_Avg is included
const industryMetrics = await storage.getFilteredIndustryMetrics(timePeriod, filters);
// OR
const industryMetrics = await storage.getMetricsBySourceType('Industry_Avg');
```

Let me know what the debug endpoint returns and we’ll fix it from there.​​​​​​​​​​​​​​​​